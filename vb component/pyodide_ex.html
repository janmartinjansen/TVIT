<!DOCTYPE html>
<html>
<head>
    <title>Python in de Browser</title>
    <style>
        #editor {
            height: 300px;
            width: 50%;
            border: 1px solid #ccc;
        }
        #output {
            width: 50%;
            height: 200px;
            border: 1px solid #ccc;
            margin-top: 10px;
            font-family: monospace;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>Python in de Browser</h1>
    <div id="editor">import math

def isPrime(n):
    wn = math.sqrt(n)
    wn = math.trunc(wn)
    for k in range(2,wn+1):
        if n % k == 0:
            return False
    return True

def goldbach_bounded(b):
    # every even number is the sum of 2 primes
    # program
    n = 4
    while n < b:
        if not isSum2Primes(n):
            return False
        n += 2
    return True

def goldbach():
    # every even number is the sum of 2 primes
    # program
    n = 4
    while True:
        if not isSum2Primes(n):
            return False
        n += 2
    return True

def isSum2Primes(n):
    for k in range(2,n//2+1):
        if isPrime(k) and isPrime(n-k):
            return True
    return False
print(goldbach_bounded(10000))
#print(8*9)


    </div>
    <button id="runButton">Run</button>
    <textarea id="output" readonly></textarea>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js"></script>

    <script>
        let editor = ace.edit("editor");
        editor.session.setMode("ace/mode/python");

        let pyodideReadyPromise = loadPyodide();

        document.getElementById("runButton").addEventListener("click", async () => {
            let pyodide = await pyodideReadyPromise;
            let code = editor.getValue();
            let outputElement = document.getElementById("output");
            outputElement.value = ""; // Clear previous output

            try {
                pyodide.runPython(`
import sys
import io
sys.stdout = io.StringIO()
${code}
output = sys.stdout.getvalue()

                `);
                let output = pyodide.globals.get('output');
                if (output) {
                    outputElement.value = output + '\n'
                }

            } catch (error) {
                outputElement.value = error;
            }
        });
    </script>
</body>
</html>
