<!DOCTYPE html>
<html>
<head>
    <title>Web Component met Ace Editor</title>
    <style>
        body {
            font-family: sans-serif;
        }
    </style>
</head>
<body>
    <h1>Web Component met Ace Editor</h1>

    <my-code-editor></my-code-editor>

    <button onclick="getCode()">Haal Code Op</button>
    <button onclick="setCode()">Stel Code In</button>
    <div id="output"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js"></script>
    <script>
        // Definieer de webcomponent (zoals in het vorige antwoord)
        class MyCodeEditor extends HTMLElement {
            constructor() {
                super();
                this.attachShadow({ mode: 'open' });
                this.shadowRoot.innerHTML = `
                  <style>
                    #editor {
                      height: 200px;
                      width: 100%;
                    }
                  </style>
                  <div id="editor"></div>
                `;
                this.editorDiv = this.shadowRoot.querySelector('#editor');
                this.aceEditor = null;
            }

            connectedCallback() {
                this.initializeAceEditor();
            }

            initializeAceEditor() {
                if (this.editorDiv) {
                    this.aceEditor = ace.edit(this.editorDiv);
                    this.aceEditor.session.setMode("ace/mode/javascript");
                }
            }

            getValue() {
                if (this.aceEditor) {
                    return this.aceEditor.getValue();
                }
                return '';
            }

            setValue(value) {
                if (this.aceEditor) {
                    this.aceEditor.setValue(value);
                }
            }
        }

        customElements.define('my-code-editor', MyCodeEditor);

        function getCode() {
            const editorComponent = document.querySelector('my-code-editor');
            const code = editorComponent.getValue();
            document.getElementById('output').textContent = `Code: ${code}`;
        }

        function setCode() {
            const editorComponent = document.querySelector('my-code-editor');
            const sampleCode = `function groet(naam) {\n  console.log('Hallo, ' + naam + '!');\n}`;
            editorComponent.setValue(sampleCode);
        }
    </script>
</body>
</html>